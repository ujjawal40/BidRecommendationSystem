{
  "model_type": "LightGBM Binary Classifier",
  "phase": "1B - Win Probability Prediction",
  "target_variable": "Won",
  "purpose": "Predict P(Win) for Expected Value optimization: EV = P(Win) \u00d7 BidFee",
  "num_features": 72,
  "features": [
    "BidFee",
    "TargetTime",
    "BusinessSegmentDetail",
    "DistanceInKM",
    "DistanceInMiles",
    "RooftopLongitude",
    "RooftopLatitude",
    "OfficeId",
    "PopulationEstimate",
    "AverageHouseValue",
    "IncomePerHousehold",
    "MedianAge",
    "DeliveryTotal",
    "NumberofBusinesses",
    "NumberofEmployees",
    "ZipPopulation",
    "TargetTime_Original",
    "Year",
    "Quarter",
    "Month",
    "DayOfWeek",
    "DayOfMonth",
    "WeekOfYear",
    "Month_sin",
    "Month_cos",
    "DayOfWeek_sin",
    "DayOfWeek_cos",
    "rolling_avg_fee_office",
    "rolling_avg_fee_proptype",
    "rolling_avg_fee_state",
    "rolling_avg_fee_segment",
    "rolling_bid_count_office",
    "rolling_std_fee_office",
    "prev_fee_same_client",
    "days_since_last_bid_client",
    "same_proptype_as_last_client",
    "total_bids_to_client",
    "avg_historical_fee_client",
    "office_avg_fee",
    "office_std_fee",
    "propertytype_avg_fee",
    "propertytype_std_fee",
    "state_avg_fee",
    "state_std_fee",
    "segment_avg_fee",
    "segment_std_fee",
    "client_avg_fee",
    "client_std_fee",
    "building_size_numeric",
    "targettime_x_size",
    "distance_x_volume",
    "client_relationship_strength",
    "market_competitiveness",
    "Bid_Property_Type_frequency",
    "PropertyState_frequency",
    "OfficeLocation_frequency",
    "BusinessSegment_frequency",
    "BidCompanyType_frequency",
    "MarketOrientation_frequency",
    "Bid_Property_Type_encoded",
    "Bid_SubProperty_Type_encoded",
    "PropertyState_encoded",
    "PropertyCity_encoded",
    "OfficeLocation_encoded",
    "BusinessSegment_encoded",
    "BidCompanyName_encoded",
    "BidCompanyType_encoded",
    "days_since_start",
    "quarterly_avg_fee",
    "is_peak_season",
    "is_weekday",
    "targettime_ratio_to_proptype"
  ],
  "excluded_leaky_features": [
    "win_rate_with_client",
    "office_win_rate",
    "propertytype_win_rate",
    "state_win_rate",
    "segment_win_rate",
    "client_win_rate",
    "rolling_win_rate_office",
    "total_wins_with_client",
    "prev_won_same_client"
  ],
  "excluded_job_derived_features": [
    "JobCount",
    "IECount",
    "LeaseCount",
    "SaleCount"
  ],
  "data_config": {
    "start_date": "2023-01-01",
    "total_samples": 52308,
    "train_samples": 31384,
    "valid_samples": 10462,
    "test_samples": 10462,
    "class_distribution": {
      "wins": 25494,
      "losses": 26814,
      "win_rate": 0.48738242716219315
    }
  },
  "hyperparameters": {
    "objective": "binary",
    "metric": [
      "binary_logloss",
      "auc"
    ],
    "boosting_type": "gbdt",
    "num_leaves": 20,
    "learning_rate": 0.05,
    "feature_fraction": 0.8,
    "bagging_fraction": 0.8,
    "bagging_freq": 5,
    "max_depth": 8,
    "min_child_samples": 30,
    "min_child_weight": 5,
    "reg_alpha": 1.0,
    "reg_lambda": 1.0,
    "scale_pos_weight": 1.0517768886796894,
    "random_state": 42,
    "verbose": -1
  },
  "training": {
    "best_iteration": 415,
    "early_stopping_rounds": 50
  },
  "metrics": {
    "train": {
      "accuracy": 0.8643257710935508,
      "precision": 0.9,
      "recall": 0.8115429917550059,
      "f1": 0.8534856513660452,
      "auc_roc": 0.9449878653605512,
      "avg_precision": 0.9495487619146555
    },
    "valid": {
      "accuracy": 0.8217358057732748,
      "precision": 0.8698800165494415,
      "recall": 0.7728358757581327,
      "f1": 0.8184914841849148,
      "auc_roc": 0.9056845644543606,
      "avg_precision": 0.9276069027403979
    },
    "test": {
      "accuracy": 0.7901930797170713,
      "precision": 0.8153770812928501,
      "recall": 0.6979668832529868,
      "f1": 0.7521174477696217,
      "auc_roc": 0.8696210164784525,
      "avg_precision": 0.8795623055746816
    }
  },
  "confusion_matrix": {
    "true_negatives": 4937,
    "false_positives": 754,
    "false_negatives": 1441,
    "true_positives": 3330
  },
  "calibration": {
    "brier_score": 0.1403106219544242
  },
  "feature_importance": [
    {
      "feature": "market_competitiveness",
      "importance": 46829.16789674759,
      "importance_pct": 22.583447638841022
    },
    {
      "feature": "TargetTime_Original",
      "importance": 13664.280452251434,
      "importance_pct": 6.589623005820937
    },
    {
      "feature": "building_size_numeric",
      "importance": 12075.566354513168,
      "importance_pct": 5.823462869931515
    },
    {
      "feature": "segment_std_fee",
      "importance": 9423.444330215454,
      "importance_pct": 4.544472412539589
    },
    {
      "feature": "targettime_ratio_to_proptype",
      "importance": 9218.875214099884,
      "importance_pct": 4.44581860061395
    },
    {
      "feature": "total_bids_to_client",
      "importance": 7294.62065243721,
      "importance_pct": 3.51784349260166
    },
    {
      "feature": "TargetTime",
      "importance": 6748.810205698013,
      "importance_pct": 3.2546254556755083
    },
    {
      "feature": "OfficeId",
      "importance": 6037.160586357117,
      "importance_pct": 2.9114311894220073
    },
    {
      "feature": "office_avg_fee",
      "importance": 5474.460068225861,
      "importance_pct": 2.6400678862007148
    },
    {
      "feature": "office_std_fee",
      "importance": 5352.928059101105,
      "importance_pct": 2.581458863495814
    },
    {
      "feature": "OfficeLocation_frequency",
      "importance": 5021.6657819747925,
      "importance_pct": 2.4217070543946986
    },
    {
      "feature": "segment_avg_fee",
      "importance": 4839.956742048264,
      "importance_pct": 2.3340775539574325
    },
    {
      "feature": "targettime_x_size",
      "importance": 4782.350143432617,
      "importance_pct": 2.306296671615969
    },
    {
      "feature": "client_relationship_strength",
      "importance": 4568.220898389816,
      "importance_pct": 2.2030324708932287
    },
    {
      "feature": "propertytype_std_fee",
      "importance": 3632.5790615081787,
      "importance_pct": 1.751817568281367
    },
    {
      "feature": "OfficeLocation_encoded",
      "importance": 2938.077821969986,
      "importance_pct": 1.416893138003154
    },
    {
      "feature": "BidCompanyName_encoded",
      "importance": 2892.190631389618,
      "importance_pct": 1.394763960562928
    },
    {
      "feature": "PropertyState_frequency",
      "importance": 2680.7369475364685,
      "importance_pct": 1.2927900538758246
    },
    {
      "feature": "BidFee",
      "importance": 2453.061420440674,
      "importance_pct": 1.1829931350804659
    },
    {
      "feature": "client_std_fee",
      "importance": 2418.641978740692,
      "importance_pct": 1.1663942994764778
    }
  ],
  "training_date": "2026-02-10 23:41:39"
}